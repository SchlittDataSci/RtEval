---
title: "Rt Estimation with rtestim Package"
author: "Peiwen Liu, ..."
date: "2024-09-25"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Rt Estimation with rtestim}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# Introduction

This vignette demonstrates how to use the `rtestim` package to estimate the reproduction number \(R_t\) for a disease based on observed case counts and other relevant delay distributions. We will load in pre-processed data, run the `estimate_rt` model, and visualize the results along with confidence bands.

# Load Data

To start, we will load the required data. The data includes daily reported cases, serial interval, incubation period, and reporting delay distributions.

```{r setup, echo=TRUE, include=TRUE, eval=TRUE}
library(rtestim)
url <- "https://raw.githubusercontent.com/cmilando/RtEval/main/all_data.RDS"
all_data <- readRDS(url(url))

```


# Run the model
```{r runcode, echo=TRUE, include=TRUE, eval=TRUE}
rr <- 2:nrow(all_data$cases)

rtestim <- estimate_rt(
  observed_counts = all_data$cases$daily_reports[rr],
  x = all_data$cases$day[rr],
  delay_distn = all_data$serial$Px
)

# Approximate confidence bands
rtestim_cb <- confband(rtestim, lambda = rtestim$lambda[37])
```

# Extract the outomes using `summrt`
